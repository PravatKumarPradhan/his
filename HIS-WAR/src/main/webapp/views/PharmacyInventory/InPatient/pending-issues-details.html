<style>
        .tableError {
            border: 2px solid red !important;
        }
    
        .tableError select.w-100.ng-pristine.ng-empty,
        .tableError input.w-100.ng-valid.ng-empty,
        .borderRed {
            border: 2px solid red;
        }
    
        .font-W600 td {
            font-weight: 600 !important;
        }
    
        .cursorDisabled{
            cursor: not-allowed;
        }
    </style>
    <!-- *****************************************************************************************************************************
                                                        Out patient sales Worklist 
    ****************************************************************************************************************************** -->
    <!-- Page Content start-->
    <div id="page-content-wrapper"  class=" ">
        <div class="container-fluid">
            <fieldset>
            <legend class="main-heading-div commonPatientSearch cursor-pointer">
            <div class="row">
                <div class="col-lg-10 col-md-9 col-sm-6"></div>	
                <div class="col-lg-2 col-md-2 col-sm-4 padding-left-right-set1 pull-right">
                    <span class="heading-name-font">IP Pharmacy </span>
                    <span class="heading-name-font pull-right" title="Change Store" data-toggle="modal" data-target="#pharmacyPopupBeforLeftexpand">
                        <i class="fa fa-stack-exchange" aria-hidden="true"></i>
                    </span>
                </div>	
            </div>
            </legend>
            <div>
                <div class=""> <!-- width: 25% !important;margin: 200px 0 0 510px !important; -->
                    <div class="">
                        <!-- <div ng-include="'./views/common/patient-demography.html'"></div> -->
                        
                        <div class="row searched-patient-details-row">
                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                                    <span class="profile_pic"> 
                                        <img alt="" src="resources/assets/images/tempImages/m.jpg" class="img-circle" style="width:35px"  data-toggle="modal" data-target="#patientDetailsModal">
                                    </span>
                                    <!-- <span class="margin-left10">{{patientDetails.patientName}} {{patientDetails.age}} </span> -->
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">UHID	:</span> {{vm.model.pendingIssuesDetails.uhid}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600"></span> {{vm.model.pendingIssuesDetails.patientDetail}}</span>
                                    <!-- <span class=""><span class=" font-weight600">/</span> 36</span> -->
                                    <!-- <span class=""><span class=" font-weight600">/</span> M</span> -->
                                    
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">DOB	:</span> {{vm.model.pendingIssuesDetails.doctorDetail.dob | date:'dd/MM/yyyy': 'UTC'}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600"></span> Dr. {{vm.model.pendingIssuesDetails.doctorDetail}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">DOA	:</span> {{vm.model.pendingIssuesDetails.doa | date:'dd/MM/yyyy': 'UTC'}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">PDD	:</span> {{vm.model.pendingIssuesDetails.pdd | date:'dd/MM/yyyy': 'UTC'}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">Ward Name :</span> {{vm.model.pendingIssuesDetails.wardName}}</span>
                                    <span class="margin-left10"><span class="padding-right5 font-weight600">Bed No. :</span>{{vm.model.pendingIssuesDetails.bedNo}}</span>
                                    <span class="margin-left8 bed-mang-box-icon">
                                        <img src="resources/assets/images/icon/bed/Allergies.png" title="Allergies" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                        <div class="popper-content hide">
                                            <div>1.Egg Protein</div>
                                            <div>2.Penicillin</div>
                                        </div>
                                    </span>
                                    <span class="margin-left8 bed-mang-box-icon">
                                        <img src="resources/assets/images/icon/bed/other investigation order.png" title="Comorbidity" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                        <div class="popper-content hide">
                                            <div>1.Hyper Tension</div>
                                        </div>
                                    </span>
                                    <span class="margin-left8 bed-mang-box-icon">
                                        <img src="resources/assets/images/icon/bed/High Risk Patient.png" title="High Risk" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                        <div class="popper-content hide">
                                            <div>1.Hepatitis b</div>
                                    </span>
                                </div>
                                
                            </div>
    
                        <div class="row padding-top10">
                            <div class="pull-right padding-left-right-set4">
                                <a><i class="fa fa-life-ring" title="Smart Issue"></i></a>
                            </div>
                            <div class="col-lg-12 col-md-12 padding-left-right-set4 " style="height: 475px;">
                                <div class="table-container padding-left-right-set4 padding-top5">
                                    <div class="table-container-header">
                                        <table class="table table-striped table-hover table-condensed table-bordered">
                                            <thead>
                                                <tr class="table-th-bg">
                                                    <!-- <th class="width2 text-center"><input type="checkbox"></th> -->
                                                    <th class="width4" title="Item Code">
                                                            Item Code
                                                        <div class="float_right" ng-click="sortType = 'itemCode'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Item Name">
                                                            Item Name
                                                        <div class="float_right" ng-click="sortType = 'itemName'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width6" title="Generic Name">
                                                            Generic Name
                                                        <div class="float_right" ng-click="sortType = 'genericName'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width6" title="manufacturer">
                                                            manufacturer
                                                        <div class="float_right" ng-click="sortType = 'manufacturerName'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Flag">
                                                        Flag
                                                        <div class="float_right" ng-click="sortType = 'otc'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width6" title="Batch No.">
                                                            Batch No.
                                                        <div class="float_right" ng-click="sortType = 'selectedBatch'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width5" title="Expiry Date">
                                                        Expiry Date
                                                        <div class="float_right" ng-click="sortType = 'expiry'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width6" title="UOM">
                                                        UOM
                                                        <div class="float_right" ng-click="sortType = 'selectedUom'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Qty Ordered">
                                                        Qty Ordered
                                                        <div class="float_right" ng-click="sortType = 'qtyPrescribed'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Qty Dispensed">
                                                        Qty Dispensed
                                                        <div class="float_right" ng-click="sortType = 'quantity'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width5" title="Rate">
                                                        Rate
                                                        <div class="float_right" ng-click="sortType = 'rate'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="hideClass width5" title="Total Amount">
                                                        Total Amount
                                                        <div class="float_right" ng-click="sortType = 'itemtotalAmount'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="hideClass width4" title="Discount">
                                                            Discount
                                                        <div class="float_right" ng-click="sortType = 'itemDiscount'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Tax">
                                                        Tax
                                                        <div class="float_right" ng-click="sortType = 'tax'; sortReverse = !sortReverse">
                                                            <div>
                                                                <i class="fa fa-caret-up" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="margin-top-8">
                                                                <i class="fa fa-caret-down" aria-hidden="true"></i>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th class="width4" title="Tax Percentage">
                                                        Tax %
                                                        <div class="float_right" ng-click="sortType = 'taxPercentage'; sortReverse = !sortReverse">
                                                            <div>
                                                                <i class="fa fa-caret-up" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="margin-top-8">
                                                                <i class="fa fa-caret-down" aria-hidden="true"></i>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th class="width5" title="Tax Amount">
                                                        Tax {{vm.model.Currency}}
                                                        <div class="float_right" ng-click="sortType = 'taxAmount'; sortReverse = !sortReverse">
                                                            <div class="float_right">
                                                                <div>
                                                                    <i class="fa fa-caret-up" aria-hidden="true"></i>
                                                                </div>
                                                                <div class="margin-top-8">
                                                                    <i class="fa fa-caret-down" aria-hidden="true"></i>
                                                                </div>
                                                            </div>
                                                    </th>
                                                    <th class="width5" title="Net Amount">
                                                        Net {{vm.model.Currency}}
                                                        <div class="float_right" ng-click="sortType = 'netAmount'; sortReverse = !sortReverse">
                                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                                        </div>
                                                    </th>
                                                    <th class="width9 text-center" title="Action">
                                                        Action
                                                        </th>
                                                    
                                                </tr>
                                            </thead>
                                        </table>	
                                    </div>	
                                    <div class="table-container-body" style="height:350px; overflow-y: scroll; background: #ffffce;">		
                                        <table class="table table-striped table-hover table-condensed table-bordered">
                                            <tbody>
                                                <tr ng-if="vm.model.pendingIssuesDetails.items == null || !vm.model.pendingIssuesDetails.items.length">
                                                    <td col-span="14"><p style="text-align: center;margin-top: 0px !important;margin-bottom: 1px !important;">No Records Found</p></td>
                                                </tr>
                                                <tr ng-repeat="item in vm.model.pendingIssuesDetails.items | filter : search |   orderBy:sortType:sortReverse" data-ng-class="{'tableError': item.isItemValid, 'disable': item.disabled, 'cursorDisabled':item.disabled}">		
                                                    <!-- <td class="width2 text-center padding-btntop10" disabled=""><input type="checkbox" disabled=""></td> -->
                                                    <td class="width4" title="{{item.itemCode}}">
                                                        <div>{{item.itemCode}}</div>
                                                    </td>
                                                    <td class="width4" title="{{item.itemName}}">
                                                        <div>{{item.itemName}}</div>
                                                    </td>
                                                    <td class="width6" title="{{item.genericName}}">
                                                        <div>{{item.genericName}}</div>
                                                    </td>
                                                    <td class="width6" title="{{item.manufacturerName}}">
                                                        <div>{{item.manufacturerName}}</div>
                                                    </td>
                                                    <td class="width4" title="">
                                                        <div>{{item.interventionFlag}}</div>
                                                    </td>
                                                    <td title="" class="width6" data-ng-class="{'disabled':item.disabled}">
                                                        <select class="w-100" ng-model="item.selectedBatch" UomChangeng-focus="item.prevBatch = item.selectedBatch" ng-change="vm.model.BatchChange($index, vm.model.pendingIssuesDetails, item.selectedBatch); item.isItemValid = false; item.isBatchValid = false; item.isUOMValid = false"
                                                        data-ng-class="{tableError: item.isBatchValid}"
                                                        data-ng-options="batch.batchNo for batch in item.batch">
                                                        </select>
                                                    </td>
                                                    <td class="width5" title="">
                                                            <div>{{item.selectedBatch.expiry | date:'MMM-yyyy'}}</div>
                                                    </td>
                                                    <td title="" class="width6" data-ng-class="{'disabled':item.disabled}">
                                                        <select ng-model="item.selectedUom" class="w-100"  ng-focus="item.prevUom = item.selectedUom" ng-change="vm.model.UomChange($index, vm.model.pendingIssuesDetails, item.selectedUom);"
                                                        data-ng-class="{tableError: item.isUOMValid}" 
                                                        ng-options="uom.uomDetails for uom in item.uom">
                                                        </select>
                                                    </td>
                                                    <td class="width4" title="{{item.quantityOrdered}}"  style="text-align: right;">
                                                        <div>{{item.quantityOrdered}}</div>
                                                    </td>
                                                    <td title="" class="width4" data-ng-class="{'disabled':item.disabled}">
                                                        <input type="text" ng-model="item.quantity" ng-if="item.selectedBatch.batchId" ng-focus="item.prevQuantity = item.quantity" ng-blur="vm.model.AllocateQuantity($index, vm.model.pendingIssuesDetails)"
                                                        data-ng-class="{tableError: item.isQuantityValid}" class="w-100 text-right" ng-change="item.isItemValid = false; item.isQuantityValid = false"
                                                        numbers-only>
                                                    </td>
                                                    <td class="width5" title="{{vm.model.Currency}} {{item.rate  | number:2}}"  style="text-align: right;">
                                                        <div>{{vm.model.Currency}} {{(item.rate ? item.rate : 0)  | number:2}}</div>
                                                    </td>
                                                    <td class="width5" title="{{vm.model.Currency}} {{ item.itemtotalAmount | number:2}}"  style="text-align: right;">
                                                        <div>{{vm.model.Currency}} {{ item.itemtotalAmount = ((item.rate ? item.rate : 0) * (item.quantity ? item.quantity : 0)) | number:2}}
                                                        </div>
                                                    </td>
                                                    <td class="width4" title="{{vm.model.Currency}} {{item.itemDiscount | number :2}}" style="text-align: right;">
                                                        <div>	{{vm.model.Currency}} {{item.itemDiscount = (item.itemDiscount ? item.itemDiscount : 0) | number :2 }}</div>
                                                    </td>
                                                    <td class="width4" title="{{item.tax}}">
                                                        <div>{{item.tax}}</div>
                                                    </td>
                                                    <td class="width4" title="{{item.taxPercentage | number:2}} %">
                                                        <div>{{item.taxPercentage | number:2}} %</div>
                                                    </td>
                                                    <td class="hideClass width5" title="{{vm.model.Currency}} {{item.taxAmount | number:2}}" style="text-align: right;">
                                                        <div>{{vm.model.Currency}} {{item.taxAmount= (((item.itemtotalAmount) - (item.itemDiscount))*(item.taxPercentage/100)) | number:2 }}</td></div>
                                                    </td>
                                                    <td class="hideClass width5" title="{{vm.model.Currency}} {{item.netAmount | number:2}}" style="text-align: right;">
                                                        <div>{{vm.model.Currency}} {{item.netAmount = (((item.itemtotalAmount) - (item.itemDiscount) + item.taxAmount)) | number:2}} </div>
                                                    </td>
                                                    <td class="vertical-middle text-center"  data-ng-class="{'disabled':item.disabled}" style="width: 8.7% !important;">
                                                        <input type="button" name="" id="addr" value="+" ng-click="vm.model.AddItem($index, vm.model.pendingIssuesDetails)" class="btn btn-info add-dynamic-row"
                                                            style="padding: 2px 10px !important;"/>
                                                        <input type="button" value="-" ng-click="vm.model.RemoveItem($index, vm.model.pendingIssuesDetails); vm.model.ApplyDiscount(vm.model.pendingIssuesDetails)"
                                                            class="btn btn-info add-dynamic-row" style="padding: 2px 10px !important; margin-left: 5px;" />
                                                    </td>
                                                </tr>	                                                
                                            </tbody>
                                        </table>
                                    </div>	
                                    <div class="table-container-footer">
                                        <table class="table table-striped table-hover table-condensed table-bordered">		<tfoot>
                                                <tr class="font-W600">
                                                    <td title="" style="width: 56%;"></td>
                        
                                                    <td title="Total" style="width: 5.6% !important;">Total</td>
                                                    <td title="{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalAmount | number:2}}" style="width: 5.5% !important; text-align: right;">
                                                        {{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalAmount = (vm.model.pendingIssuesDetails.items | sumByColumn: 'itemtotalAmount') | number:2}}
                                                    </td>
                                                    <td title="{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalDiscountAmount | number:2}}" style="width: 4.5% !important; text-align: right;">
                                                        {{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalDiscountAmount = (vm.model.pendingIssuesDetails.items | sumByColumn: 'itemDiscount') | number:2}}
                                                    </td>
                                                    <td title="" style="width: 9.7% !important;"></td>
                        
                                                    <td title="{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalTaxAmount | number:2}}" style="width: 5.6% !important; text-align: right;">
                                                        {{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.totalTaxAmount = (vm.model.pendingIssuesDetails.items | sumByColumn: 'taxAmount') | number:2}}
                                                    </td>
                        
                                                    <td title="{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.netAmount | number:2}}" style="width: 5.6% !important; text-align: right;">{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.netAmount = (vm.model.pendingIssuesDetails.items | sumByColumn: 'netAmount') | number:2}}
                                                    </td>
                                                    <td title="" style="width: 10.49% !important;"></td>
                        
                                                </tr>
                                                <tr class="table-th-bg padding0">
                                                    <td colspan="11" class="text-right spanClass">
                                                        <span>
                                                            <label>Discount :</label>
                                                            <input type="radio" name="discountType" ng-value="1" ng-model="vm.model.pendingIssuesDetails.discountType" class="radioPercentage"  ng-change="vm.model.discountTypeFlag = true" 
                                                            />
                                                            <span>Percentage</span>
                                                            <input type="radio" name="discountType" ng-value="2" ng-model="vm.model.pendingIssuesDetails.discountType" class="radioAmount"  ng-change="vm.model.discountTypeFlag = true"  />
                                                            <span>Amount</span>
                                                        </span>
                                                        <span> 
                                                            <input type="text" class="status" ng-blur="vm.model.SetDecimal()" ng-model="vm.model.pendingIssuesDetails.discount"  ng-change="vm.model.isAppliedDiscountValid = true;" placeholder=""/>
                                                        </span>
                                                        <span>
                                                            <select name="discountCategory" ng-model="vm.model.pendingIssuesDetails.discountCatgeory"
                                                            data-ng-options="discountCategory.discountCategory for discountCategory in vm.model.discountCategoryList" ng-change="vm.model.isDiscountCategoryValid = false; vm.model.isDiscountAmountValid = false">
                                                            </select>
                                                            <p ng-if="vm.model.isDiscountCategoryValid" class="errorMsg">Discount Category is required</p>
                                                        </span>
                                                        <span>
                                                            <button type="submit" name="" id="" value="Apply" ng-click="vm.model.ApplyDiscount(vm.model.pendingIssuesDetails); vm.model.ApplyDiscountValidation(vm.model.pendingIssuesDetails);
                                                            vm.model.isDiscountAppliedValid = false;vm.model.isAppliedDiscountValid = false; vm.model.isDiscountApplied = true" class="btn btn-primary text-width-auto" 
                                                            style="padding: 0 2px !important;margin-top: -3px;">Apply</button>
                                                        </span>
                        
                                                    </td>
                                                    <td title="{{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.roundOff | number:2}}" class="font-W600" colspan="2" 	style="text-align: right;">
                                                        Round Off : {{vm.model.Currency}} {{ vm.model.pendingIssuesDetails.roundOff = 0 | number:2 }}
                                                    </td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>		
                            </div>
                        </div>
                        <div class="row" style="margin-top:20px;">
                            <div class="col-md-8">
                                <!-- <button type="button" data-toggle="modal" data-target="#substituteModal" 
                                class="btn btn-primary pull-left" id="">Substitute</button> -->
                            </div>
                            <!-- <div class="col-md-5"></div> -->
                            <div class="col-md-4">
                                <div class="col-md-3" >
                                    <a href="#/pendingIssues"> <button type="button" class="btn btn-primary" id="" >Back</button></a>
                                </div>
                                <div class="col-md-3">
                                    <button type="button" class="btn btn-primary" id="">Print</button><!-- label : Print Distpatch Note -->
                                </div>
                                <div class="col-md-3">
                                    <button type="button" data-dismiss="modal" class="btn btn-primary" id=""  ng-click="vm.model.SavePopup()" >Save</button>
                                </div>	
                            </div>	
                        </div>		
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Page Content start-->    
    
    <!--  confirmSave modal start -->
    
    <div id="confirmSave" class="modal fade ng-scope in" role="dialog">
        <div class="modal-dialog" style="width: 560px !important; margin: 80px auto !important;">
            <div class="modal-content" style="border-radius: 0px !important;">
                <div class="modal-header" style="padding: 0px!important;">
                    <div class="modal-title patient-details-row">
                        Confirm
                        <button type="button" id="popupClose" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="margin-left10">
                        <span>Are you sure you want to Save?</span>
                    </div>
                </div>
                <div class="modal-footer" style="border:none;">
                    <button type="button" data-dismiss="modal" class="btn btn-primary" ng-click="vm.model.SaveBill(vm.model.pendingIssuesDetails)"> Ok </button>
                    <button type="button" data-dismiss="modal" id="popupClose" class="btn btn-primary">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!--  confirmSave modal end -->
    
    <script type="text/javascript">
    $(document).ready(function() {
        $(".selectedPageName").text("pending Issues Details");
        $(".sidebar-nav li").each(function() {
            $(this).find("a").parents("li").removeClass("active");
        });
        $('a[href$="outPatientSalesWorklist"]').parents("li").addClass("active");
        
        $(".hideClass").show();
        $("#discountButtonId").hide();
        /*************** discount and total amt column hide-show function *******************/
         $("#discountButtonId").click(function(){
                $(".hideClass").fadeToggle("slow");
           }); 
    });
    /************ add button funtion ***************/
    function addRowOutPatientSalesWorklistTable() {
        //alert();
        var n = document.getElementById("outPatientSalesWorklistTableId").rows.length;
        var id = Number(n);
        //alert(id);
        var test =
                 '<tr>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                +'<td>-</td>'
                /* +'<td class="hideClass">-</td>' */
                +'<td class="hideClass">-</td>'
                + '<td>'
                + '<input type="button" name="" id="addr" value="+" onclick="addRowOutPatientSalesWorklistTable()" class="btn btn-info add-dynamic-row" style="padding: 1px 6px;" />&nbsp;'
                + '<input type="button" name="" id="delrow" value="-" onclick="delRowOutPatientSalesWorklistTable(this)" class="btn btn-info" style="padding: 1px 8px;" />'
                + '</td>' 
                + '</tr>';
    
        $("#outPatientSalesWorklistTableId").append(test);
    }
    function delRowOutPatientSalesWorklistTable(r) {
        var i = r.parentNode.parentNode.rowIndex;
        document.getElementById("outPatientSalesWorklistTableId").deleteRow(i);
    }
    /************ add button funtion ***************/
    </script>