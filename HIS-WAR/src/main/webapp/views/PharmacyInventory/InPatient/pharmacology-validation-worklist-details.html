<style>
        .tableError {
            border: 2px solid red !important;
        }
    
        .tableError select.w-100.ng-pristine.ng-empty,
        .tableError input.w-100.ng-valid.ng-empty,
        .borderRed {
            border: 2px solid red;
        }
    </style>
<!-- *****************************************************************************************************************************
													Pharmacology Validation Worklist 
****************************************************************************************************************************** -->
<!-- Page Content -->
<div id="page-content-wrapper"  class="clockPopupOver ">
    <div class="container-fluid his-style">
        <div ng-include="'./views/common/common-patient-search-opd-without-counter.html'"></div>
        
        <div class="row">
            <div class="row searched-patient-details-row">
                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                    <span class="profile_pic"> 
                        <img alt="" src="resources/assets/images/tempImages/m.jpg" class="img-circle" style="width:35px"  data-toggle="modal" data-target="#patientDetailsModal">
                    </span>
                    <!-- <span class="margin-left10">{{patientDetails.patientName}} {{patientDetails.age}} </span> -->
                    <span class="margin-left10"><span class="padding-right5 font-weight600">UHID	:</span>{{vm.model.pharmacologyValidationDetailsList.uhid}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600"></span> {{vm.model.pharmacologyValidationDetailsList.patientDetail}}</span>
                    <!-- <span class=""><span class=" font-weight600">/</span> 36</span> -->
                    <!-- <span class=""><span class=" font-weight600">/</span> M</span> -->
                    
                    <span class="margin-left10"><span class="padding-right5 font-weight600">DOB	:</span> {{vm.model.pharmacologyValidationDetailsList.dob | date:'dd/MM/yyyy' : 'UTC'}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600"></span> Dr. {{vm.model.pharmacologyValidationDetailsList.doctorDetail}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600">DOA	:</span>{{vm.model.pharmacologyValidationDetailsList.doa | date:'dd/MM/yyyy' : 'UTC'}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600">PDD	:</span>{{vm.model.pharmacologyValidationDetailsList.pdd | date:'dd/MM/yyyy' : 'UTC'}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600">Ward Name :</span>{{vm.model.pharmacologyValidationDetailsList.wardName}}</span>
                    <span class="margin-left10"><span class="padding-right5 font-weight600">Bed No. :</span>{{vm.model.pharmacologyValidationDetailsList.bedNo}}</span>
                    <span class="margin-left8 bed-mang-box-icon">
                        <img src="resources/assets/images/icon/bed/Allergies.png" title="Allergies" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                        <div class="popper-content hide">
                            <div>1.Egg Protein</div>
                            <div>2.Penicillin</div>
                        </div>
                    </span>
                    <span class="margin-left8 bed-mang-box-icon">
                        <img src="resources/assets/images/icon/bed/other investigation order.png" title="Comorbidity" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                        <div class="popper-content hide">
                            <div>1.Hyper Tension</div>
                        </div>
                    </span>
                    <span class="margin-left8 bed-mang-box-icon">
                        <img src="resources/assets/images/icon/bed/High Risk Patient.png" title="High Risk" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                        <div class="popper-content hide">
                            <div>1.Hepatitis b</div>
                    </span>
                </div>
            </div>
        </div>
        </div>
        <div class="row margin-top10">
            <div class="col-md-12 col-lg-12 table-responsive padding-left-right-set4">
                <div class="table-container padding-left-right-set4 padding-top5">
                    <div class="table-container-header">
                        <table class="table table-striped table-hover table-condensed table-bordered">
                            <thead>
                                <tr class="table-th-bg">
                                    <th class="width15" title="Brand Name">
                                        Brand Name
                                        <divclass="float_right" ng-click="sortType = 'itemName'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width12" title="Generic Name">
                                        Generic Name
                                        <divclass="float_right" ng-click="sortType = 'genericName'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width9" title="Frequency">
                                        Frequency
                                        <divclass="float_right" ng-click="sortType = 'frequency'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width7" title="Dose">
                                        Dose
                                        <divclass="float_right" ng-click="sortType = 'dose'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width6" title="Start Date">
                                        Start Date
                                        <divclass="float_right" ng-click="sortType = 'startDate'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width6" title="Stop Date">
                                        Stop Date
                                        <divclass="float_right" ng-click="sortType = 'stopDate'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width10" title="Remark">
                                        Remark
                                        <divclass="float_right" ng-click="sortType = 'remark'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                    <th class="width6" title="Intervention">
                                        <!-- <input type="checkbox" class="margin-right2"/> -->
                                        Intervention
                                        <divclass="float_right" ng-click="sortType = 'intervention'; sortReverse = !sortReverse">
                                            <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                            <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="table-container-body" style="height:400px; overflow-y: scroll; background: #ffffce;">
                        <table class="table table-striped table-hover table-condensed table-bordered">
                            <tbody>	
                                <tr ng-if="vm.model.pharmacologyValidationDetailsList.items == null || !vm.model.pharmacologyValidationDetailsList.items.length">
                                    <td col-span="14"><p style="text-align: center;margin-top: 0px !important;margin-bottom: 1px !important;">No Records Found</p></td>
                                </tr>
                                <tr ng-repeat="item in vm.model.pharmacologyValidationDetailsList.items | filter : search |   orderBy:sortType:sortReverse">
                                    <td  class="width15" title="{{item.itemName}}">
                                        {{item.itemName}}
                                    </td>
                                    <td  class="width12" title=" {{item.genericName}}">
                                        {{item.genericName}}
                                    </td>
                                    <td  class="width9" title="{{item.frequency}}">
                                        {{item.frequency}}
                                    </td>
                                    <td  class="width7" title="{{item.dose}}">
                                        {{item.dose}}
                                    </td>
                                    <td  class="width6" title="{{item.startDate | date:'dd/MM/yyyy' : 'UTC'}}">
                                        {{item.startDate | date:'dd/MM/yyyy' : 'UTC'}}
                                    </td>
                                    <td  class="width6" title="{{item.stopDate | date:'dd/MM/yyyy' : 'UTC'}}">
                                        {{item.stopDate | date:'dd/MM/yyyy' : 'UTC'}}
                                    </td>
                                    <td class="width10">
                                        <input ng-model="item.interventionRemark"
                                        data-ng-class="{tableError: item.isinterventionRemarkValid}"
                                        ng-change="item.isinterventionRemarkValid = false">
                                    </td>
                                    <td  style="width:5.76% !important;" title="">
                                        <label class="checkbox-inline"><input type="checkbox" ng-model="item.intervention" value="1" ng-click="vm.model.IsValidateToggle(vm.model.pharmacologyValidationDetailsList)" name="validated_checkbox" >Intervention</label>
                                    </td>
                                </tr>
                            
                            </tbody>	
                        </table>
                    </div>
                    <div class="table-container-footer">
                        <table class="table table-striped table-hover table-condensed table-bordered">
                            <tfoot>
                                <div class="modal-footer" style="border:none;">
                                    <div class="row padding-left-right-set4">
                                        <div class="col-lg-6 col-md-6 col-sm-6 padding-left-right-10 text-width-auto">
                                          
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 pull-right">
                                            <div class="col-lg-2 col-md-3 col-sm-3 pull-right" style="margin-right: 20px;">
                                                <button type="button"  ng-click="vm.model.NavigateToPharmacologicalValidation()" data-dismiss="modal" class="btn btn-primary" id="">Back</button>
                                            </div>
                                            
                                            <div class="col-lg-2 col-md-3 col-sm-3 pull-right" style="margin-right: 20px;">
                                                <button type="button" ng-click="vm.model.SavePharmacologyValidationWorkList(vm.model.pharmacologyValidationDetailsList)" data-dismiss="modal" class="btn btn-primary" id="">Save</button>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-sm-3 pull-right" style="margin-right: 20px;">
                                                    <label class="checkbox-inline"><input type="checkbox" ng-disabled="vm.model.isValidateValid" ng-model="vm.model.validate" value="">Is Validate</label>
                                                </div>
                                        </div> 
                                    </div>
                                </div>
                            </tfoot>
                        </table>
                    </div>			
                </div>		
            </div>
        </div>
    </div>
</div>

<!--  confirmSave modal start -->

<!-- <div id="confirmSave" class="modal fade ng-scope in" role="dialog">
        <div class="modal-dialog" style="width: 560px !important; margin: 80px auto !important;">
            <div class="modal-content" style="border-radius: 0px !important;">
                <div class="modal-header" style="padding: 0px!important;">
                    <div class="modal-title patient-details-row">
                        Confirm
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="margin-left10">
                        <span>Are you sure you want to Save?</span>
                    </div>
                </div>
                <div class="modal-footer" style="border:none;">
                    <button type="button" data-dismiss="modal" class="btn btn-primary" ng-click="vm.model.SavePharmacologyValidationWorkList(vm.model.pharmacologyValidationDetailsList)"> Ok </button>
                    <button type="button" data-dismiss="modal" class="btn btn-primary">Cancel</button>
                </div>
            </div>
        </div>
    </div> -->
    
    <!--  confirmSave modal end -->