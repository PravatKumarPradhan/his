<style>
    .tableError {
        border: 2px solid red !important;
    }

    .tableError select.w-100.ng-pristine.ng-empty,
    .tableError input.w-100.ng-valid.ng-empty,
    .borderRed {
        border: 2px solid red;
    }

    .font-W600 td {
        font-weight: 600 !important;
    }
</style>
<!-- *****************************************************************************************************************************
												
****************************************************************************************************************************** -->
 <!-- Page Content -->
<div id="page-content-wrapper" class="">
  	<div class="container-fluid his-style">
  		<fieldset class="">	
			<div class="row margin-top10 padding-left-right-set4">
				<div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
			        <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <select class="dirty text-input floating-label" ng-model="vm.model.visitType" name="visitType"
                                    ng-class="{dirty: vm.model.visitType}" ng-change="vm.model.isVisitTypeValid = false"
                                    data-ng-options="visitTypeData.type for visitTypeData in vm.model.visitTypeDataList">
                                </select>
                                <label for="visitType">Visit Type</label>
                            </div>
                        </div>
			        </div>
		    	</div>
		    	<div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
			        <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-user" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <input type="text" name="patientName" id="patientName" class="text-input floating-label" ng-model="vm.model.patientName" ng-change="vm.model.isPatientNameValid = false"
                                    uib-typeahead="patientNames.patientName as patientNames.details for patientNames in vm.model.SearchpatientNames($viewValue)"
                                    typeahead-on-select="vm.model.AddPatientDetails($item); vm.model.search = '';">
                                    
                                <label for="patientName">Patient Name</label>
                            </div>
                        </div>
			        </div>
		    	</div>
		    	<div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
			        <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <input type="text" name="uhid" ng-model="vm.model.uhid" ng-class="{dirty:vm.model.uhid}" id="" class="text-input floating-label"
                                uib-typeahead="patientNames.uhid as patientNames.details for patientNames in vm.model.SearchUhid($viewValue)"
                                typeahead-on-select="vm.model.AddPatientDetails($item); vm.model.search = '';"> 
                                <label for="code">UHID</label>
                                
                            </div>
                        </div>
                    </div> 
		    	</div>
		    	
		    	<div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
		            <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <input type="text" name="wardName" ng-model="vm.model.wardName" ng-class="{dirty:vm.model.wardName}" id="" class="text-input floating-label"> 
                                <label for="status">Ward</label>
                            </div>
                        </div>
		            </div>
		        </div>
		        <div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
		            <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon ">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                        <div class="">
                            <input type="text" name="bedNo" ng-model="vm.model.bedNo" ng-class="{dirty:vm.model.bedNo}" id="" class="text-input floating-label">
                            <label for="description" class="LISDynamicLabel">Bed No</label>
                        </div>
                        </div>
		            </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
                    <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <select class="dirty text-input floating-label" ng-model="vm.model.visitNo" name="visitNo"
                                    ng-class="{dirty: vm.model.visitNo}" ng-change="vm.model.isVisitNoValid = false"
                                    ng-options="visitNo.no for visitNo in vm.model.visitNumbers">
                                </select> 
                                <label for="status">Visit No</label>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			
			<div class="row margin-top4 padding-left-right-set4">
				
		    	<div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
			        <div class="row input-container">
                        <div class="col-lg-2 col-sm-2 col-md-2 polymer-icon">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                        </div>
                        <div class="col-lg-10 col-sm-10 col-md-10">
                            <div class="">
                                <select class="dirty text-input floating-label" ng-model="vm.model.store" name="store"
                                    ng-class="{dirty: vm.model.store}" 
                                    ng-options="store.store for store in vm.model.storeList">
                                </select> 
                                <label for="status">Store</label>
                            </div>
                        </div>
			        </div>
		    	</div>
		    	<div class="col-lg-2 col-md-1 padding-left-right-set text-width-auto padding-top10">
			        <!-- <div class="checkbox">
			          <label class="common-lable-color-set" for="isConsignmentChk">
			          <input type="checkbox" class="addNewItemRadioBtnClass" id="isConsignmentChk">Is Consignment</label>
                    </div> -->
                    <label for="isConsignmentCheckbox" style="font-size: 12px; color:black;">Is Consignment</label>
                        <label class="switch switch-small">
                            <input type="checkbox" ng-disabled="!!vm.model.indentId"  class="switchInput" ng-model="vm.model.consignment" name="isConsignmentCheckbox">
                            <div class="slider round slider-small"></div>
                        </label>
			    </div>
		        <div class="col-lg-1 col-md-1 col-sm-2 padding-left-right-set4 text-width-auto padding-top10">
                    <div class="checkbox">
                        <label class="common-lable-color-set">
                        <button type="button" 
                            ng-disabled="!vm.model.store.id != ''" 
                            data-dismiss="modal" class="btn btn-primary" style="margin-top: -9px;" id="" 
                            ng-click="vm.model.GetItemList();">Add Item
                        </button>
                    </div>
				</div>
			</div>
			<div class="table-container padding-left-right-set4 padding-top5">
                <div class="table-container-header">
                    <table class="table table-striped table-hover table-condensed table-bordered">
                        <thead>
                            <tr class="">
                                <th class="width10" title=" Item Code">
                                    Item Code
                                    <div class="float_right" ng-click="sortType = 'itemCode'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th class="width12" title=" Item Name">
                                    Item Name
                                    <div class="float_right" ng-click="sortType = 'itemName'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th class="width12" title="Generic Name">
                                    Generic Name
                                    <div class="float_right" ng-click="sortType = 'genericName'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th  class="width8" title="UOM">
                                    UOM
                                    <div class="float_right" ng-click="sortType = 'uomType'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th  class="width8" title=" UOM Unit">
                                    UOM Unit
                                    <div class="float_right" ng-click="sortType = 'uomUnit'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th class="width8" title="Indent Qty">
                                    Indent Qty
                                    <div class="float_right" ng-click="sortType = 'item.quantity'; sortReverse = !sortReverse">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                                <th class="width6 text-center">
                                    Action
                                    <div class="float_right">
                                        <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                        <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="table-container-body" style="height:400px; overflow-y: scroll; background: #ffffce;">
                    <table class="table table-striped table-hover table-condensed table-bordered">
                        <tbody>    
                            <tr ng-if="vm.model.ItemDetailList == null || !vm.model.ItemDetailList.length">
                                <td col-span="7"><p style="text-align: center;margin-top: 0px !important;margin-bottom: 1px !important;">No Records Found</p></td>
                            </tr>
                            <tr ng-repeat="item in vm.model.ItemDetailList | filter : search |   orderBy:sortType:sortReverse">
                                <td class="width10" title=" {{item.itemCode}}" >
                                    {{item.itemCode}}
                                </td>
                                <td class="width12" title=" {{item.itemName}}" >
                                    {{item.itemName}}
                                </td>
                                <td class="width12" title="{{item.genericName}}" >
                                    {{item.genericName}}
                                </td>
                                <td class="width8" title="{{item.uomType}}" >
                                    {{item.uomType}}
                                </td>
                                <td class="width8" title="{{item.uomUnit}}" >
                                    {{item.uomUnit}}
                                </td>
                                <td title="item.quantity"  class="width8 vertical-middle">
                                    <input type="text" class="w-100" numbers-only ng-model="item.quantity" value="" 
                                        data-ng-class="{tableError: item.isQuantityValid}" ng-change="item.isQuantityValid = false">
                                    </td>
                                <td class="text-center media-middle" style="width: 5.72% !important">
                                    <a ng-click="vm.model.RemoveRowData($index)">
                                        <i class="fa fa-times"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>    
					</table>
				</div>
			</div>
		</fieldset>
		<footer class="col-lg-12 col-md-12 col-sm-12 padding-left-right-set4 padding-right20">
			<div class="row his-style margin-top10 padding-right20">
				 <div class="col-lg-1 col-md-1 col-sm-1 text-right">
			        <label>Remark:</label>
			      </div>
			      <div class="col-lg-9 col-md-9 col-sm-7 padding-left-right8">
                    <textarea row="1" ng-model="vm.model.remark" ng-change="vm.model.isRemarkValid = false" class="form-control"></textarea>
                    <p ng-if="vm.model.isRemarkValid" class="errorMsg">Remark is required</p>
			      </div>
				<div class="col-lg-1 col-md-1 col-sm-2 padding-left-right-set4">
					<a href="">
						<input type="button" value="Save" ng-click="vm.model.SaveConsumableIndent()" class="btn btn-primary btn-save-box-shadow">
					</a>
				</div>
				<div class="col-lg-1 col-md-1 col-sm-2 padding-left-right-set4">
					<a href="#/patientIndent">
						<input type="button" value="Back" class="btn btn-primary btn-save-box-shadow">
					</a>
				</div>
			</div>			
		</footer>
	</div>
</div>
<!--  To up order details list  modal start -->
<div id="topUpOrderListModal" class="modal fade ng-scope in padding-left0" role="dialog">
	<div class="modal-dialog"> 
		<div class="modal-content">
			<div class="modal-header">
				<div class="modal-title patient-details-row">
					Top Up Order List View
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
			</div>
			<div class="modal-body">
				<div class="row patient-details-row">
					<div class="col-md-11 col-sm-11 col-xs-11 ">
						<span class="profile_pic margin-left10"> 
							<img alt="" src="resources/assets/images/tempImages/m.jpg" class="img-circle" style="width:30px">
							</span> 
							<span class="margin-left10">John Deo 26/M </span>
							<span class="margin-left10"><b class="padding-right5 ">UHID	:</b> Pune-769</span>
							<span class="margin-left10"><b class="padding-right10 ">Ward NO	:</b> W124303 </span>
							<span class="margin-left10"><b class="padding-right10 ">BED NO	:</b> BM129091</span>
							<span class="margin-left10">Dr. Suresh Pathak</span>
						</div>
				</div>
				<div class="row">
					<div class="col-lg-12 col-md-12 common-popup-height-350 padding-top10 padding-left-right-set4">
						<table class="table table-bordered table-striped">
							<thead>
								<tr class="table-th-bg">
									<th class="width15">
										Medication Name
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width12">
										Generic Name
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width8">
										Frequency 
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width8">
										Start Date
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width8">
										Stop Date
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width8">
										Top up Qty
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									
								</tr>
							</thead>
							<tbody>
								<tr>
									
									<td>
										<div>-</div>
									</td>
										<td>
										<div>-</div>
									</td>
										<td>
										<div>-</div>
									</td>
									<td>
										<div>-</div>
									</td>
									<td>
										<div>-</div>
									</td>
									<td>
										<div>-</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			
		</div>
	</div>
</div>

<div id="addNewItemWasteStore" class="modal fade ng-scope in common-large-popup" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title patient-details-row">
            Add Item List
            <button type="button" ng-click="" class="close" data-dismiss="modal">&times;</button>
            </div>
        </div>
        <div class="modal-body height-table-with-scroll	">
            <fieldset>
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                <div class="row input-container">
                    <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
                    <i class="fa fa-tasks" aria-hidden="true"></i>
                    </div>
                    <div class="col-lg-11 col-sm-11 col-md-11">
                    <div class="">
                        <!-- <select name="id" class="text-input floating-label" ng-change="vm.model.GetProductCategoryList(vm.model.id);" ng-model="vm.model.id"
                        ng-class="{dirty: vm.model.id}" required>
                        <option></option>
                        <option ng-repeat="assetType in vm.model.assetCategoryList" value="{{assetType.id}}">{{assetType.category}}</option>
                        </select> -->
    
                        <select name="assetCategory" id="assetCategory" class="text-input floating-label dirty" data-ng-options="category.category for category in vm.model.assetCategories"
                        ng-model="vm.model.assetCategory" ng-change="vm.model.GetProductCategoryList(vm.model.assetCategory.id)">
                    </select>
    
                        <label for="code">Asset Category</label>
                    </div>
                    </div>
                </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                <div class="row input-container">
                    <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
                    <i class="fa fa-tasks" aria-hidden="true"></i>
                    </div>
                    <div class="col-lg-11 col-sm-11 col-md-11">
                    <div class="">
                        <!-- <select class="text-input floating-label" ng-model="vm.model.productCategoryId" ng-class="{dirty: vm.model.id}">
                        <option ng-repeat="datum in vm.model.productCategoryList" value="{{datum.id}}">{{datum.category}} </option>
                        </select> -->
    
                        <select name="productCategory" id="productCategory" class="text-input floating-label dirty" data-ng-options="category.category for category in vm.model.productCategories" ng-model="vm.model.productCategory">
                    </select>
    
                        <label for="code">Product Category</label>
                    </div>
                    </div>
                </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 padding-left-right-set4 padding-top10">
                <div class="row input-container">
                    <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon ">
                    <i class="fa fa-stop-circle-o" aria-hidden="true"></i>
                    </div>
                    <div class="col-lg-11 col-sm-11 col-md-11 ">
                    <div class="">
                        <input type="text" name="description" id="" class="text-input floating-label" ng-model="vm.model.itemCode">
                        <label for="description" class="LISDynamicLabel">Item Code</label>
                    </div>
                    </div>
                </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                <div class="row input-container">
                    <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon ">
                    <i class="fa fa-stop-circle-o" aria-hidden="true"></i>
                    </div>
                    <div class="col-lg-11 col-sm-11 col-md-11 ">
                    <div class="">
                        <input type="text" name="description" id="" class="text-input floating-label" ng-model="vm.model.itemName">
                        <label for="description" class="LISDynamicLabel">Item Name</label>
                    </div>
                    </div>
                </div>
                </div>
                <div class="col-lg-1 col-md-1 col-sm-1 padding-left-right-set4 his-style">
                <div class="common-save-button">
                    <a href="" class="btn btn-primary btn-save-box-shadow" style="width: auto;" ng-click="vm.model.SearchNewItem()">
                    <i class="fa fa-search" aria-hidden="true"></i>
                    </a>
                </div>
                </div>
            </div>
            <div class="row common-popup-height-350">
                <div class="col-lg-12 col-md-12 padding-top10 padding-left-right-set4">
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th class="width1 text-center media-middle ">
                        <input type="checkbox" ng-model="vm.model.selectAllRows" ng-click="vm.model.SelectAllItems()" />
                        </th>
                        <th class="width10">Asset Category
                        <div class="float_right">
                            <div>
                            <i class="fa fa-caret-up" aria-hidden="true"></i>
                            </div>
                            <div class="margin-top-8">
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                            </div>
                        </div>
                        </th>
                        <th class="width10">Product Category
                        <div class="float_right">
                            <div>
                            <i class="fa fa-caret-up" aria-hidden="true"></i>
                            </div>
                            <div class="margin-top-8">
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                            </div>
                        </div>
                        </th>
                        <th class="width10">Item Code
                        <div class="float_right">
                            <div>
                            <i class="fa fa-caret-up" aria-hidden="true"></i>
                            </div>
                            <div class="margin-top-8">
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                            </div>
                        </div>
                        </th>
                        <th class="width10">Item Name
                        <div class="float_right">
                            <div>
                            <i class="fa fa-caret-up" aria-hidden="true"></i>
                            </div>
                            <div class="margin-top-8">
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                            </div>
                        </div>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in vm.model.searchNewItemList | filter : search ">
                        <td class="text-center">
                        <input type="checkbox" ng-model="item.isSelected" ng-click="vm.model.SelectItem(item)" />
                        </td>
                        <!-- ng-change="vm.model.CheckBoxVal(result)" ng-true-value="1" ng-false-value="0" -->
                        <td>{{item.assetCategory}}</td>
                        <td>{{item.productCategory}}</td>
                        <td>{{item.itemCode}}</td>
                        <td>{{item.itemName}}</td>
                    </tr>
                    </tbody>
                </table>
                </div>
            </div>
            </fieldset>
        </div>
        <div class="modal-footer">
            <div class="row his-style">
            <div class="col-md-11"></div>
            <div class="col-md-1 padding-left0px-right6px">
                <div class="common-save-button">
                <input type="button" value="Add" class="btn btn-primary btn-save-box-shadow"  ng-click="vm.model.AddItems()" data-dismiss="modal">
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>

<!-- To up order details list modal end -->
<div ng-include="'./views/PharmacyInventory/Store/get-item-list.html'" ></div>
<script src="resources/assets/js/common/page-height.js"></script>
<script type="text/javascript">
$( document ).ready(function() {
	$(".selectedPageName").text("Consumable Indent");
	$(".sidebar-nav li").each(function() {
		$(this).find("a").parents("li").removeClass("active");
	});
	
	/*  $( ".addNewItemRadioBtnClass" ).change(function() {
	      if ($(this).is(":checked"))
	      {
	    	  alert("ok");
	        $("#addNewItemWasteStore").modal();
	      }
	    });  */
	
});
</script>