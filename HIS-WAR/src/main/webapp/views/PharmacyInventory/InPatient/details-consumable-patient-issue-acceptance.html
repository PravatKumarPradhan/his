<style>
        .tableError {
            border: 2px solid red !important;
        }
    
        .tableError select.w-100.ng-pristine.ng-empty,
        .tableError input.w-100.ng-valid.ng-empty,
        .borderRed {
            border: 2px solid red;
        }
    
        .font-W600 td {
            font-weight: 600 !important;
        }
    </style>
    
    <div id="page-content-wrapper" class="ng-scope">
        <div class="container-fluid his-style">
            <fieldset class="main-fieldset">
                
                <div class="row">
                    <div class="row searched-patient-details-row">
                        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                            <span class="profile_pic"> 
                                <img alt="" src="resources/assets/images/tempImages/m.jpg" class="img-circle" style="width:35px"  data-toggle="modal" data-target="#patientDetailsModal">
                            </span>
                            <!-- <span class="margin-left10">{{patientDetails.patientName}} {{patientDetails.age}} </span> -->
                            <span class="margin-left10"><span class="padding-right5 font-weight600">UHID	:</span>{{vm.model.consumableIssueAcceptanceDetailslist.uhid}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600"></span>{{vm.model.consumableIssueAcceptanceDetailslist.patientDetail}}</span>
                            <!-- <span class=""><span class=" font-weight600">/</span> 36</span> -->
                            <!-- <span class=""><span class=" font-weight600">/</span> M</span> -->
                            
                            <span class="margin-left10"><span class="padding-right5 font-weight600">DOB	:</span> {{vm.model.consumableIssueAcceptanceDetailslist.dob}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600"></span> Dr.{{vm.model.consumableIssueAcceptanceDetailslist.doctorDetail}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600">DOA	:</span> {{vm.model.consumableIssueAcceptanceDetailslist.doa}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600">PDD	:</span> {{vm.model.consumableIssueAcceptanceDetailslist.pdd}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600">Ward Name :</span> {{vm.model.consumableIssueAcceptanceDetailslist.wardName}}</span>
                            <span class="margin-left10"><span class="padding-right5 font-weight600">Bed No. :</span>{{vm.model.consumableIssueAcceptanceDetailslist.bedNo}}</span>
                            <span class="margin-left8 bed-mang-box-icon">
                                <img src="resources/assets/images/icon/bed/Allergies.png" title="Allergies" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                <div class="popper-content hide">
                                    <div>1.Egg Protein</div>
                                    <div>2.Penicillin</div>
                                </div>
                            </span>
                            <span class="margin-left8 bed-mang-box-icon">
                                <img src="resources/assets/images/icon/bed/other investigation order.png" title="Comorbidity" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                <div class="popper-content hide">
                                    <div>1.Hyper Tension</div>
                                </div>
                            </span>
                            <span class="margin-left8 bed-mang-box-icon">
                                <img src="resources/assets/images/icon/bed/High Risk Patient.png" title="High Risk" alt="Allergy" style="width:20px" class="popper" data-toggle="popover" data-trigger="hover">
                                <div class="popper-content hide">
                                    <div>1.Hepatitis b</div>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                        <span class=""><b class="padding-right10 ">Issue No. :</b><label>{{vm.model.consumableIssueAcceptanceDetailslist.issueNo}}</label> </span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                        <span class="margin-left10"><b class="padding-right10 ">Issue
                                Date:</b><label>{{vm.model.consumableIssueAcceptanceDetailslist.issueDate}}</label> </span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                        <span class="margin-left10"><b class="padding-right10 ">Indent No.
                                    :</b><label>{{vm.model.consumableIssueAcceptanceDetailslist.indentNo}}</label> </span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                        <span class="margin-left10"><b class="padding-right10 ">Ward
                                :</b> <label>{{vm.model.consumableIssueAcceptanceDetailslist.wardName}}</label></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
                        <span class=""><b class="padding-right10 ">Store :</b><label>{{vm.model.consumableIssueAcceptanceDetailslist.store}}</label> </span>
                    </div>
                </div>
                <div class="row">
                    <div class="table-container padding-left-right-set4 padding-top5">
                        <div class="table-container-header">
                            <table class="table table-striped table-hover table-condensed table-bordered">
                                <thead>
                                    <tr class="table-th-bg">
                                        <th class="text-center width2">
                                            <input type="checkbox" ng-click="vm.model.SelectAllRequests()" ng-model="vm.model.selectAllRows" >
                                        </th>
                                        <th class="width12" title="Medication Name">
                                            Medication Name
                                            <div class="float_right" ng-click="sortType = 'itemName'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width10" title="Generic Name">
                                            Generic Name
                                            <div class="float_right" ng-click="sortType = 'genericName'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width7" title="Flag">
                                            Flag
                                            <div class="float_right" ng-click="sortType = 'issueAcceptanceflag'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width7" title="UOM">
                                            UOM
                                            <div class="float_right" ng-click="sortType = 'uom'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width7" title="UOM Unit">
                                            UOM Unit
                                            <div class="float_right" ng-click="sortType = 'uomUnit'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width8" title="Qty Issued">
                                            Qty Issued
                                            <div class="float_right" ng-click="sortType = 'quantityIssued'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width10" title="Batch No.">
                                            Batch No.
                                            <div class="float_right" ng-click="sortType = 'batchNo'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width8" title="Expiry Date">
                                            Expiry Date
                                            <div class="float_right" ng-click="sortType = 'expiryDate'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width7" title="Price">
                                            Price
                                            <div class="float_right" ng-click="sortType = 'rate'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width8" title="Accept Qty">
                                            Accept Qty
                                            <div class="float_right" ng-click="sortType = 'acceptQuantity'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width8" title="Reject Qty">
                                            Reject Qty 
                                            <div class="float_right" ng-click="sortType = 'rejectQuantity'; sortReverse = !sortReverse">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                        <th class="width10" title="Action">
                                            Action
                                            <div class="float_right">
                                                <div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
                                                <div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div class="table-container-body" style="height:268px; overflow-y: scroll; background: #ffffce;">
                            <table class="table table-striped table-hover table-condensed table-bordered">
                                <tbody>	
                                    <tr ng-repeat="item in vm.model.consumableIssueAcceptanceDetailslist.items | filter : search | orderBy:sortType:sortReverse">
                                        <td class="text-center width2" title=""><input type="checkbox" ng-model="item.isSelected" ng-click="vm.model.SelectRequestItem(item); vm.model.ClearFields(item)"></td>
                                        <td class="width12" title="{{item.itemName}}">
                                                {{item.itemName}}
                                        </td>
                                        <td class="width10" title="{{item.genericName}}">
                                                {{item.genericName}}
                                        </td>
                                        <td class="width7" title="{{item.issueAcceptanceflag}}">
                                                {{item.issueAcceptanceflag}}
                                        </td>
                                        <td class="width7" title="{{item.uom}}">
                                                {{item.uom}}
                                        </td>
                                        <td class="width7" title="{{item.uomUnit}}">
                                                {{item.uomUnit}}
                                        </td>
                                        <td class="width8" title="{{item.quantityIssued}}" style="text-align:right">
                                                {{item.quantityIssued}}
                                        </td>
                                        <td class="width10" title="{{item.batchNo}}">
                                                {{item.batchNo}}
                                        </td>
                                        <td class="width8" title="{{item.expiryDate | date:'MMM-yyyy'}}">
                                                {{item.expiryDate | date:'MMM-yyyy'}}
                                        </td>
                                        <td class="width7" title="{{item.rate}}" style="text-align:right">
                                                {{vm.model.Currency}}{{item.rate}}
                                        </td>
                                        <td class="width8" title="{{item.acceptQuantity}}" style="text-align:right">
                                            <input type="text" ng-if="item.isSelected" ng-model="item.acceptQuantity" class="w-100" 
                                            data-ng-class="{tableError:item.isAcceptQuantityValid}" class="w-100 text-right" style="text-align: right;" ng-change="item.isAcceptQuantityValid = false;"
                                            numbers-only>
                                        </td>
                                        <td class="width8" title="{{item.rejectQuantity}}" style="text-align:right">{{item.rejectQuantity = item.quantityIssued - item.acceptQuantity}}</td>
                                        <td class="vertical-middle" style="width: 9.6% !important;" title="">
                                            <div class="row">
                                                <div class="checkbox no-margin">
                                                <label><input type="checkbox" value="" class=" switchInput radioRejected" ng-model="item.isRejected" ng-click="vm.model.RejectQty(item)">Reject</label> <!-- data-toggle="modal" data-target="#accepatReject" -->
                                                </div>
                                            </div>
                                            <!-- <div class="row rejection-details-row margin-top4" style="display: none;">
                                                <table id="rejectContent">
                                                    <tbody><tr>
                                                        <td class="width12"><input type="text" placeholder="Qty" class="qty-textbox-fixed text-center"></td>
                                                        <td class="width60 padding-top4">
                                                            <select class="margin-left-right-set5 width94 select-box">
                                                                <option value="Select Reason">Select Reason</option>
                                                                <option selected="selected" value="Tablet Broken">Tablet Broken</option>
                                                                <option value="Reason 2">Reason 2</option>
                                                            </select>
                                                        </td>
                                                        <td class="padding-top8">
                                                        <input type="button" style="width:36px" name="" id="" value="+" onclick="" class="btn btn-info add-dynamic-row margin-left-right-set5">
                                                        </td>
                                                    </tr>
                                                </tbody></table>
                                            </div> -->
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>	
                </div>
            </fieldset>
            <footer class="col-lg-12 col-md-12 col-sm-12 padding-left-right-set4 padding-right20">
                <div class="row his-style margin-top10 padding-right20">
                    <!-- <div class="col-md-1 text-right">
                        <label>Remark:</label>
                    </div>
                    <div class="col-md-9 padding-left-right8">
                        <textarea row="1" class="form-control"></textarea>
                    </div>
                    <div class="col-md-1 padding-left0px-right6px">
                        <div class="">common-save-button
                            <input type="button" value="Save" class="btn btn-primary btn-save-box-shadow">
                        </div>
                    </div> -->
                    <div class="col-md-10 padding-left-right8"></div>
                    <div class="col-lg-1 col-md-1 padding-left-right-set4">
                        <input type="button" ng-click="vm.model.SaveIssueAcceptance(vm.model.consumableIssueAcceptanceDetailslist)" value="Save" class="btn btn-primary btn-save-box-shadow">
                    </div>
                    <div class="col-lg-1 col-md-1 padding-left-right-set4">
                        <a href="#/patientIssueAcceptance">
                            <input type="button" value="Back" class="btn btn-primary btn-save-box-shadow">
                        </a>
                    </div>
                </div>			
            </footer>
        </div>
    </div>
    <div>
        <div id="qtyaccepatReject" class="modal fade ng-scope in common-small-popup" role="dialog" style="z-index:1300 !important;background: rgba(0, 0, 0, 0.33);">
            <div class="modal-dialog"> <!-- width: 25% !important;margin: 200px 0 0 510px !important; -->
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="modal-title patient-details-row">
                            Rejection
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-12 padding-left-right-set">
                                <div class="row input-container margin-top10">
                                        <div class="col-lg-6 col-md-6 col-sm-12">
                                            <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
                                                <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
                                            </div>
                                            <div class="col-lg-11 col-sm-11 col-md-11">
                                                <div class="">
                                                    <input type="text" ng-model="vm.model.qty" name="code" id="" class="text-input floating-label">
                                                    <label for="code">Qty</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon"> 
                                            <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
                                        </div>
                                        <div class="col-lg-11 col-sm-11 col-md-11 ">
                                            <div class="">
                                                <select class="text-input floating-label dirty"  id="rejectReasonId" name="code" ng-model="vm.model.rejectReason" ng-options="reason.reason for reason in vm.model.rejectReasons">
                                                <!-- <option value="">Select Reason</option>
                                                <option ng-repeat="info in reasonList" value="{{info.reasonMasterId}}" >{{info.reasonDesc}}</option> -->
                                                </select>		
                                                <label for="code">Select Reasons</label>
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                <div class="row input-container margin-top10">
                                            <div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
                                                <i class="fa fa-sticky-note" aria-hidden="true"></i>
                                            </div>
                                            <div class="col-lg-11 col-sm-11 col-md-11 ">
                                                <div class="">
                                                    <textarea name="code" rows="4" id="noteReject"
                                                        class="text-input floating-label" ng-model="rejectNote"></textarea>
                                                    <label for="code">Note</label>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <input type="text" id="commonId" /> -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="border:none;">
                        <button type="button" data-dismiss="modal" class="btn btn-primary" id="" ng-click="vm.model.SaveRejectPopup()">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <div ng-include="'./views/common/qty-accept-reject.html'" class="ng-scope" style=""></div> -->
    <!-- <script>
    $( document ).ready(function() {
    $(".rejection-details-row").hide();
    
    $(".radioRejected").click(function () {
        if ($(this).is(":checked")) {
            $(this).closest(".row").siblings(".rejection-details-row").show();
        } else {
            $(this).closest(".row").siblings(".rejection-details-row").hide();
        }
    });
    });
    </script> -->