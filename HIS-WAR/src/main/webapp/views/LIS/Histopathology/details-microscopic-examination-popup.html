
<!-- Page Content -->
 <div id="page-content-wrapper">
     <div class="container-fluid his-style">
		<div class="row">
			<form name="microExaDetailsForm" novalidate>
				<div class="row patient-details-row">
					<div class="col-md-11 col-sm-11 col-xs-11 ">
						<span class="profile_pic margin-left10"> 
							<img alt="" src="resources/assets/images/tempImages/m.jpg" class="img-circle" style="width:30px">
						</span> 
						<!-- <span class="margin-left10">John Deo 26/M </span>
						<span class="margin-left10"><b class="padding-right5 ">UHID	:</b> Pune-769</span>
						<span class="margin-left10"><b class="padding-right10 ">Priority :</b> Normal</span>
						<span class="margin-left10">Dr. Suresh Pathak </span>
						<span class="margin-left10"><b class="padding-right5 ">Gross No :</b> A1-1872017</span>
						<span class="margin-left10"><b class="padding-right10 ">Block No :</b>A1-A101-1872017</span> -->
						<span class="margin-left10">{{tSubSpecimanMaster.patientDetails}}&nbsp;{{tSubSpecimanMaster.age}}/{{tSubSpecimanMaster.genderName}} </span>
						<span class="margin-left10"><b class="padding-right5 ">UHID	:</b> {{tSubSpecimanMaster.uhid}}</span>
						<!-- <span class="margin-left10"><b class="padding-right10 ">Priority :</b> Normal</span> -->
						<span class="margin-left10">{{tSubSpecimanMaster.doctorDetails}}</span>
					</div>
				</div>
				<div class="row ">
					<div class="col-lg-12 col-md-12 fix-height-scroll450 padding-left-right-set4 padding-top4">
						<table class="table table-striped table-bordered">
							<thead class="table-th-bg">
								<tr>
									<th class="width20">Slide No.
										<div class="float_right">
											<div><i class="fa fa-caret-up" aria-hidden="true"></i></div>
											<div class="margin-top-8"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
										</div>
									</th>
									<th class="width10">Specimen Name
										<div class="float_right">
										<div>
										        <i ng-click='sortColumn("subSpecimanName")' class="fa fa-caret-up"
											    aria-hidden="true"></i>
									       </div>
									   <div class="margin-top-8">
										    <i ng-click='sortColumn("subSpecimanName")' class="fa fa-caret-down"
											aria-hidden="true"></i>
									   </div>
									   </div>
									</th>
									<th class="width12">Gross No
										<div class="float_right">
										<div>
										        <i ng-click='sortColumn("grossNo")' class="fa fa-caret-up"
											    aria-hidden="true"></i>
									       </div>
									   <div class="margin-top-8">
										    <i ng-click='sortColumn("grossNo")' class="fa fa-caret-down"
											aria-hidden="true"></i>
									   </div>
									   </div>
									</th>
									<th class="width12">Block No
										<div class="float_right">
										<div>
										        <i ng-click='sortColumn("blockNo")' class="fa fa-caret-up"
											    aria-hidden="true"></i>
									       </div>
									   <div class="margin-top-8">
										    <i ng-click='sortColumn("blockNo")' class="fa fa-caret-down"
											aria-hidden="true"></i>
									   </div>
									   </div>
									</th>
									<th class="width8">Stain
										<div class="float_right">
										<div>
										        <i ng-click='sortColumn("stainName")' class="fa fa-caret-up"
											    aria-hidden="true"></i>
									       </div>
									   <div class="margin-top-8">
										    <i ng-click='sortColumn("stainName")' class="fa fa-caret-down"
											aria-hidden="true"></i>
									   </div>
									   </div>
									</th>
									<th class="width20">Capture Note</th>
									<th class="width5">Send For Storage</th>
									<th class="width6">Status</th>
									<th class="width8 text-center">
										<input type="checkbox"  ng-model="selectedAll" ng-click="checkAll();">Action
									</th>
								</tr>
							</thead>
							<tbody ng-repeat="slideObj in listTMicroExaDetails track by $index" 		>
								<tr>
									<td>
										<div class="pull-right">{{slideObj.slideNo}}</div>
										<div class="pull-left" ng-if="slideObj.isRestained=='Y'">
											<div class="service-indication bg-green"></div>
										</div>
									</td>
									<td>{{slideObj.subSpecimanName}}</td>
									<td>{{slideObj.grossNo}}</td>
									<td>{{slideObj.blockNo}}	</td>
									<td>
										<div>{{slideObj.stainName}}</div>
									</td>
									<td>
									<div  class="form-group"  >
										<input type="text" class="select-box" name="captureNote" ng-model="slideObj.captureNote"  ng-disabled="slideObj.isComplete=='Y'" />
									<p class="help-block"  ng-if="microExaDetailsForm.captureNote.$error.required">{{microscopicCaptureNoteReq}}</p>
									</div>
									</td>
									<td class="text-center"> 
										<input type="checkbox"  ng-model="slideObj.sendForStorage"  ng-checked="slideObj.sendForStorage=='Y'"
									ng-true-value="'Y'" ng-false-value="'N'" ng-disabled="slideObj.isComplete=='Y'" />
									</td>
									<td>
										<select class="select-box" ng-model="slideObj.isComplete" ng-disabled="slideObj.isComplete=='Y'">
											<option value="N">Pending</option>
											<option value="Y">Completed</option>
										</select>
									</td>
									<td>
										<div class="text-center">
											<!-- <a href="">Save</a> -->
											<!-- <input type="checkbox"/> -->
										<input type="checkbox" ng-model="slideObj.isExaComplete" ng-disabled="slideObj.isComplete=='Y'"></td>
											<!-- <input type="button" value="Save"  data-dismiss="modal" class="btn btn-primary btn-save-box-shadow details-btn created-gross-table-row" > -->
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
			</form>
		</div>
		<footer class="col-lg-12 col-md-12 col-sm-12 padding-left-right-set4 padding-right20">
			<div class="row padding-top5 margin-top10 padding-right20">
				<div class="col-lg-8 col-md-8"></div>
				<div class="col-lg-2 col-md-2 padding-left-right-set4">
					<a >
						<button type="button" class="btn btn-primary " data-toggle="modal" ng-click="getMacroscopicExaminationTemplateDtls();" data-target="#viewMacroscopicExaminationModal">Macroscopic Examination</button>
					</a>
				</div>
				<div class="col-lg-1 col-md-1 padding-left-right-set4">
						<button type="button" data-dismiss="modal" class="btn btn-primary" id="" ng-click="saveMicroExaDetails();">Save</button>
				</div>
				<div class="col-lg-1 col-md-1 padding-left-right-set4">
					<a href="#/microscopicExaminiationWorkList">
						<input type="button" value="Back" class="btn btn-primary btn-save-box-shadow">
					</a>
				</div>
			</div>
		</footer>
	</div>
</div>
	
<!--  view modal start -->
<div id="viewMacroscopicExaminationModal" class="modal fade ng-scope in common-large-popup" role="dialog">
	<div class="modal-dialog"> 
		<div class="modal-content">
			<div class="modal-header">
				<div class="modal-title patient-details-row">
					View Macroscopic Examination
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
			</div>
			<div class="modal-body">
				<div class="row" >
					<div class="col-lg-12 col-md-12 height-table-with-scroll padding-top10 padding-left-right-set4"><!-- height-table-with-scroll -->
						<div ng-include="'./views/common/patient-demography-info.html'"></div>
						
						<div class="row margin-top4">
						<form name="macroscopicExaminationForm" novalidate>
							<div class="col-lg-12 col-md-12  padding-left-right-set4">
								<table class="table table-striped table-bordered margin-top4">
									<thead>
										<tr>
											<th class="UHID-width">Histopathlogy No.</th>
											<th class="UHID-width">SubSpecimen No</th>
											<th class="width12">SubSpecimen Name</th>
											<th class="width15">Capture Note</th>
										</tr>
									</thead>
										<tr>
											<td><div>{{histoPathNo}}</div></td>
											<td><div>{{getMicroscopicExamData.subSpcimanNo}}</div></td>
											<td><div>{{getMicroscopicExamData.subSpecimanName}}</div></td>
											<td>
												<div>
												<div  class="form-group"  >
												<input type="text" class="select-box"  name="getMicroscopicExamData.captureNote" ng-model="getMicroscopicExamData.captureNote" required ng-disabled="true" />
												<p class="help-block"  ng-if="macroscopicExaminationForm.captureNote.$error.required">{{getMicroscopicExamData.captureNote}}</p>
												</div>
												</div>
											</td>
										</tr>
										<tbody ng-repeat="gross in getMicroscopicExamData.listTGrossMaster track by $index" ng-form="subGrossForm">
										 <tr >
											<td colspan="5">
												<div class="row padding-left15">
									      			<div class="col-lg-12 col-md-12">
									      				<table class="table table-striped table-bordered " id="slideCreation">
															<thead class="table-th-bg">	
																<tr>
																	<th class="width10">Gross No.</th>
																	<th class="width50">Capture Note</th>
																</tr>
															</thead>
															<tbody>
																<tr>
																		<td>
																			<div>{{gross.grossNo}}</div>
																		</td>
																		<td>
																			<div>
																			<div  class="form-group" >
																				<input type="text" id="" name="grossDesc" class="text-box-for-ICU"
																					ng-model="gross.grossDesc"  ng-disabled="true">
																			<p class="help-block"  ng-if="subGrossForm.grossDesc.$error.required">{{grossReq}}</p>
																			</div>
																			</div>
																		</td>
																	</tr>
															</tbody>
														</table>
													</div>
												</div>
											</td>
										</tr>
								      	<tr>
								      		<td colspan="5">
									      		<div class="row padding-left15">
									      			<div class="col-lg-12 col-md-12 padding-left15">
									      				<table class="table table-striped table-bordered " id="slideCreation">
														<thead class="table-th-bg">	
															<tr>
																<th class="width15">Block No.</th>
																<th class="width80">Capture Note</th>
															</tr>
														</thead>
														<tbody ng-repeat="block in gross.listTBlockMaster">
															<tr >
																<td>
																	<div>{{block.blockNo}}</div>
																</td>
																<td>
																	<div>
																		<div  class="form-group"  >
																		<input type="text"  id="" name="grossDesc" ng-model="block.captureNote" class="text-box-for-ICU" required ng-disabled="true">
																		</div>
																	</div>
																</td>
															</tr>
																<tr>
								      		                          <td colspan="5">
								      			                            <div class="row padding-left15">
										      										<div class="row padding-left15">
										      											<div class="col-lg-12 col-md-12 padding-left15">
										      				                                  <table class="table table-striped table-bordered " id="slideCreation">
															                                     <thead class="table-th-bg">	
																                                    <tr>
																	                                  <th class="" style="width:14%;">Slide No.</th>
																	                                  <th class="width80">Capture Note</th>
																                                   </tr>
															                                    </thead>
															                                    <tbody ng-repeat="slide in block.listTSlideMaster">
																                                      <tr>
																											<td>
																												<div>{{slide.slideNo}}</div>
																											</td>
																											<td>
																												<div>
																													<div  class="form-group"  >
																													<input type="text"  id="" name="grossDesc" ng-model="slide.captureNote" class="text-box-for-ICU" required ng-disabled="true">
																													</div>
																												</div>
																											</td>
																									 </tr>
																								</tbody>
																								</table>
																	      				</div>
																	      		</div>
																		    </div>
														      		</td>
														      	</tr>
														</tbody>
													</table>
									      			</div>
									      		</div>
								      		</td>
								      	</tr>
									</tbody>
								</table>
								
							</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		<!-- 	<div class="modal-footer" style="border: none;">
				<button type="button" data-dismiss="modal" class="btn btn-primary" >Back</button>
			</div> -->
		</div>
	</div>
</div>
<!--  view modal end -->			
	
	<script type="text/javascript">
$('.clockpicker').clockpicker();

$( document ).ready(function() {

		var documentHeight= $(window).height();
	    var sideBarHeight = documentHeight - 55;
	 	$("#page-content-wrapper").css("height", sideBarHeight + "px" );
	
	$( ".radioRejected" ).change(function() {
		if ($(this).is(":checked"))
		{
			$("#accepatReject").modal();
		}
	});
	$(".selectedPageName").text("Details Microscopic Examiniation");
	$(".sidebar-nav li").each(function() {
		$(this).find("a").parents("li").removeClass("active");
	});
	$('a[href$="detailsMicroscopicExamination"]').parents("li").addClass("active");
	
	$(".created-gross-table-row").click(function(){
	       // $(".block-expand").next("tr").toggle();
	       alert("ok");
	        $(this).parentsUntil('tr').parent().next().toggle("slow");
	    });
		$(".gross-table-button").click(function(){
			$(".gross-table-show").toggle("slow");
		});
		$(".gross-table-button-yes").click(function(){
			$(".gross-table-show-yes").toggle("slow");
		});
		$(".gross-subtable-yes").click(function(){
			$(".gross-subtable-show-yes").toggle("slow");
		});
});

</script>
