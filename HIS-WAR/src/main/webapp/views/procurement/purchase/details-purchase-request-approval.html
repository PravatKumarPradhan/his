<div id="page-content-wrapper" class="ng-scope">
	<div class="container-fluid his-style">
		<fieldset class="main-fieldset">
			<div class="row margin-top10">
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">PR
							Date:</b><label>{{vm.model.purchaseRequests.prDate |
							date:'dd/MM/yyyy' : 'UTC'}}</label> </span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">PR
							No. :</b><label>{{vm.model.purchaseRequests.prNo}}</label> </span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">
							Status :</b><label>{{vm.model.purchaseRequests.status}}</label> </span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">
							Approval Status :</b><label>{{vm.model.purchaseRequests.approvalStatus}}</label>
					</span>
				</div>
			</div>
			<div class="row margin-top10">
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">
							Store :</b><label>{{vm.model.purchaseRequests.storeName }}</label> </span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">Priority
							:</b> <label>{{vm.model.purchaseRequests.priority}}</label></span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">PR
							Type:</b><label>{{vm.model.purchaseRequests.prType}}</label> </span>
				</div>
				<div
					class="col-lg-3 col-md-3 col-sm-3 padding-left-right-set4 padding-top10">
					<span class="margin-left10"><b class="padding-right10 ">Type:</b><label>{{vm.model.purchaseRequests.assetType}}</label>
					</span>
				</div>
			</div>
			<div class="row padding-top10 table-container">
				<div class="col-lg-12 col-md-12 table-container-header padding-top4">
					<table
						class="table table-striped table-hover table-condensed table-bordered">
						<thead>
							<tr>
								<th class="width1 vertical-middle text-center"><input
									type="checkbox" ng-model="vm.model.selectAllRows"
									ng-click="vm.model.SelectAllItems()"
									ng-disabled="!vm.model.purchaseRequests || vm.model.purchaseRequests.status == 'Cancelled'">
								</th>
								<th class="width2 vertical-middle">Item Code</th>
								<th class="width3 vertical-middle">Item Name</th>
								<th class="width2 vertical-middle">UOM</th>
								<th class="width2 vertical-middle">UOM Unit</th>
								<th class="width2 vertical-middle" title="Current Stock">Current
									Stock</th>
								<th class="width2 vertical-middle" title="Quantity">Quantity
								</th>
								<th class="width2 vertical-middle" title="Rejected Quantity">Rejected
									Quantity</th>
								<th class="width3 vertical-middle" title="Approved Quantity">Approved
									Quantity</th>
								<th class="width2 vertical-middle text-center">Reject</th>
								<!-- <th class="width1"></th> -->
							</tr>
						</thead>
					</table>
				</div>
				<div class="table-container-body">
					<table
						class="table table-striped table-hover table-condensed table-bordered">
						<tbody>
							<tr ng-repeat="item in vm.model.purchaseRequests.items">
								<td class="width1 vertical-middle text-center"><input
									type="checkbox" ng-model="item.isSelected"
									ng-click="vm.model.SelectItem(item)"
									ng-disabled="item.status != 'Pending Approval'" /> <!-- ng-disabled="vm.model.isDisable(item) || vm.model.purchaseRequests.status == 'Cancelled'" -->
								</td>
								<td class="width2" title="{{item.itemCode}}">{{item.itemCode}}</td>
								<td class="width3" title="{{item.itemName}}">{{item.itemName}}</td>
								<td class="width2" title="{{item.uomType}}">{{item.uomType}}</td>
								<td class="width2" title="{{item.uomUnit}}">{{item.uomUnit}}</td>
								<td class="width2" title="{{item.availableQuantity}}">{{item.availableQuantity}}</td>
								<td class="width2" title="{{item.quantity}}">{{item.quantity}}</td>
								<td class="width2">
									<div ng-if="item.isSelected">{{item.rejectQuantity || 0}}</div>
									<div ng-if="!item.isSelected">{{item.rejectQuantity ||
										0}}</div>
								</td>
								<td class="width3"><input type="text" class="w-100"
									ng-model="item.approvedQuantity"
									ng-blur="vm.model.ApprovedQuantity(item)"
									ng-if="item.isSelected" numbers-only>
									<div ng-if="!item.isSelected">{{item.approvedQuantity ||
										0}}</div></td>
								<td class="width2 vertical-middle text-center"
									style="width: 1.93% !important"><label
									class="switch switch-small"> <input type="checkbox"
										class="switchInput" ng-disabled="item.isDisabled"
										ng-click="vm.model.RejectionPopup(item)"
										ng-model="item.isReject">
										<div class="slider round slider-small"></div>
								</label></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			
			<div class="row padding-top10 table-container">
				<div class="col-lg-12 col-md-12 table-container-header padding-top4">
					<table
						class="table table-striped table-hover table-condensed table-bordered">
						<thead>
							<tr>
								<th class="width1 vertical-middle text-center"><input
									type="checkbox" ng-model="vm.model.selectAllRows"
									ng-click="vm.model.SelectAllItems()"
									ng-disabled="!vm.model.purchaseRequests || vm.model.purchaseRequests.status == 'Cancelled'">
								</th>
								<th class="width6 vertical-middle" title="Asset Code">Asset Code</th>
								<th class="width6 vertical-middle" title="Asset Name">Asset Name</th>
								<th class="width6 vertical-middle" title="Current Stock">Current Stock</th>
								<th class="width6 vertical-middle" title="Qty">Qty</th>
								<th class="width6 vertical-middle" title="Specification">Specification</th>
								<th class="width6 vertical-middle" title="Reason For Request">Reason For Request</th>
								<th class="width6 vertical-middle" title="Rejected Quantity">Rejected Qty</th>
								<th class="width6 vertical-middle" title="Approved Quantity">Approved Qty</th>
								<th class="width2 vertical-middle text-center">Reject</th>
								<!-- <th class="width1"></th> -->
							</tr>
						</thead>
					</table>
				</div>
				<div class="table-container-body">
					<table
						class="table table-striped table-hover table-condensed table-bordered">
						<tbody>
							<tr>
								<td class="width1"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width6"></td>
								<td class="width2"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</fieldset>
		<footer
			class="col-lg-12 col-md-12 col-sm-12 padding-left-right-set4 padding-right20">
			<div class="row his-style padding-right20">
				<div class="col-lg-10 col-md-10 col-sm-8 padding-left0px-right6px"></div>
				<div class="col-lg-1 col-md-1 col-sm-2 padding-left0px-right6px">
					<div class="">
						<a href=""> <input type="button"
							ng-click="vm.model.ApproveSelectedItems()" value="Save"
							class="btn btn-primary btn-save-box-shadow">
						</a>
					</div>
				</div>
				<div
					class="col-lg-1 col-md-1 col-sm-2 pull-right padding-left0px-right6px">
					<div class="">
						<a href ng-click="vm.model.NavigateToBack()"> <input
							type="button" value="Back"
							class="btn btn-primary btn-save-box-shadow">
						</a>
					</div>
				</div>
			</div>
		</footer>
	</div>
</div>
<div ng-include="'./views/common/accept-reject.html'" class="ng-scope"
	style=""></div>
<div ng-include="'./views/common/note-save.html'" class="ng-scope"></div>
<div id="qtyaccepatReject"
	class="modal fade ng-scope in common-small-popup" role="dialog"
	style="z-index: 1300 !important; background: rgba(0, 0, 0, 0.33);">
	<div class="modal-dialog">
		<!-- width: 25% !important;margin: 200px 0 0 510px !important; -->
		<div class="modal-content">
			<div class="modal-header">
				<div class="modal-title patient-details-row">
					Rejection
					<button type="button"
						ng-click="vm.model.ModalDismiss('qtyaccepatReject')" class="close">&times;</button>
				</div>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-md-12 padding-left-right-set">
						<div class="row input-container margin-top10">
							<div class="col-lg-6 col-md-6 col-sm-12">
								<div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
									<i class="fa fa-dot-circle-o" aria-hidden="true"></i>
								</div>
								<div class="col-lg-11 col-sm-11 col-md-11">
									<div class="">
										<input type="rejectQty" name="rejectQty"
											ng-model="vm.model.rejectQty"
											class="text-input floating-label"
											ng-class="{dirty: vm.model.rejectQty}" numbers-only>
										<label for="rejectQty">Qty</label>
									</div>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
									<i class="fa fa-sticky-note-o" aria-hidden="true"></i>
								</div>
								<div class="col-lg-11 col-sm-11 col-md-11 ">
									<div class="">
										<select name="rejectReason" id="rejectReason"
											class="text-input floating-label"
											ng-model="vm.model.rejectReason"
											data-ng-options="rejectReason.reason for rejectReason in vm.model.rejectReasons"
											ng-class="{dirty: vm.model.rejectReason}">
											<option></option>
										</select> <label for="rejectReason">Select Reason</label>
									</div>
								</div>
							</div>
						</div>
						<div class="row input-container margin-top10">
							<div class="col-lg-1 col-sm-1 col-md-1 polymer-icon">
								<i class="fa fa-sticky-note" aria-hidden="true"></i>
							</div>
							<div class="col-lg-11 col-sm-11 col-md-11 ">
								<div class="">
									<textarea name="rejectNote" rows="4" id="rejectNote"
										class="text-input floating-label ng-pristine ng-untouched ng-valid ng-empty"
										ng-model="vm.model.rejectNote"
										ng-class="{dirty: vm.model.rejectNote}"></textarea>
									<label for="rejectNote">Note</label>
								</div>
							</div>
						</div>
						<!-- <input type="text" id="commonId" /> -->
					</div>
				</div>
			</div>
			<div class="modal-footer" style="border: none;">
				<button type="button" class="btn btn-primary"
					ng-click="vm.model.SaveAcceptReject()">Save</button>
			</div>
		</div>
	</div>
</div>
